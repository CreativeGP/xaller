<web.xal>

# @ (foo) {
# }

# (i)int
# loop
# {
#     (foo)
#     (eq i 9) ? {
#         escape
#     }
# }

+(view)Textbox

-(numbtn):Button {
    (num)int
    @ (set_num (num)int) {
        .num = num
        .text = (num)string
    }
    @ (click) {
        # 文字を後ろにくっつける
        view.text = (concat view.text (.num)string)
    }
}

+(button1)numbtn
(button1.set_num 1)
+(button2)numbtn
(button2.set_num 2)
+(button3)numbtn
(button3.set_num 3)
+(button4)numbtn
(button4.set_num 4)
+(button5)numbtn
(button5.set_num 5)
+(button6)numbtn
(button6.set_num 6)
+(button7)numbtn
(button7.set_num 7)
+(button8)numbtn
(button8.set_num 8)
+(button9)numbtn
(button9.set_num 9)
+(button0)numbtn
(button0.set_num 0)

+(eq_btn)Button
eq_btn.text = '='
@ (eq_btn.click) {
    (a)string
    a = (substr view.text 3 5)
}

+(plus_btn)Button
plus_btn.text = '+'
@ (plus_btn.click) {
    view.text = (concat view.text '+')
}

end
